<!DOCTYPE html>
<html>
  <head>
    <style>
      window, html, body {
        border: 0;
        margin: 0;
        padding: 0;
      }
      body {
        overflow: scroll;
      }
      #minimap-container {
        position: fixed;
        top: 5vmin;
        right: 5vmin;

        outline: 2px solid black;
      }
      #minimap {
        max-width: 30vmin;
        max-height: 30vmin;

        display: block;

        pointer-events: none;
      }
      #minimap-view {
        position: absolute;
        box-sizing: border-box;
        left: 0%;
        top: 50%;

        pointer-events: none;

        outline: 2px solid black;
      }
      #map {
        transform-origin: top left;
      }
      #container {
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <div id="minimap-container">
      <img id="minimap"></img>
      <div id="minimap-view"></div>
    </div>
    <script type="text/javascript">
      const container = document.getElementById('container');
      const minimap = document.getElementById('minimap');
      const minimapView = document.getElementById('minimap-view');
      const minimapContainer = document.getElementById('minimap-container');

      const data = new TextDecoder().decode(Uint8Array.from(atob("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iDQogImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDEyLjAuMCAoMjAyNDA3MDQuMDc1NCkNCiAtLT4NCjwhLS0gUGFnZXM6IDEgLS0+DQo8c3ZnIHdpZHRoPSIxNjUzcHQiIGhlaWdodD0iMTA3MnB0Ig0KIHZpZXdCb3g9IjAuMDAgMC4wMCAxNjUzLjM4IDEwNzEuNzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDEwNjcuNzUpIj4NCjxwb2x5Z29uIGZpbGw9IndoaXRlIiBzdHJva2U9Im5vbmUiIHBvaW50cz0iLTQsNCAtNCwtMTA2Ny43NSAxNjQ5LjM4LC0xMDY3Ljc1IDE2NDkuMzgsNCAtNCw0Ii8+DQo8IS0tIGVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DIC0tPg0KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+DQo8dGl0bGU+ZV9leDc2MV9FUVNDb250ZXh0X1F1ZXJpZXJTcGF3bkxvY2F0aW9uX0M8L3RpdGxlPg0KPHBvbHlnb24gZmlsbD0iIzg4ZmY4OCIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIwLC0xMDA4IDAsLTEwNjMuMjUgNTg1LjI1LC0xMDYzLjI1IDU4NS4yNSwtMTAwOCAwLC0xMDA4Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjgiIHk9Ii0xMDQ1Ljk1IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj5DbGFzc0V4cG9ydDogZV9leDc2MV9FUVNDb250ZXh0X1F1ZXJpZXJTcGF3bkxvY2F0aW9uX0M8L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjgiIHk9Ii0xMDMwLjIiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPuKUnOKUkOKUnOKUkFN1cGVyU3RydWN0OiBpbXBvcnQgL1NjcmlwdC9BSU1vZHVsZSYjNDU7Jmd0O0VudlF1ZXJ5Q29udGV4dF9CbHVlcHJpbnRCYXNlPC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSI4IiB5PSItMTAxNC40NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQUHJvcGVydGllczo8L3RleHQ+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbiAtLT4NCjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPg0KPHRpdGxlPlByb3ZpZGVTaW5nbGVMb2NhdGlvbjwvdGl0bGU+DQo8cG9seWdvbiBmaWxsPSIjZmY4ODg4IiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjYwMi44OCwtMTAxNy42MiA2MDIuODgsLTEwNTMuNjIgODY2LjM4LC0xMDUzLjYyIDg2Ni4zOCwtMTAxNy42MiA2MDIuODgsLTEwMTcuNjIiLz4NCjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iNjEwLjg4IiB5PSItMTAzMC4zMyIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+RnVuY3Rpb24gUHJvdmlkZVNpbmdsZUxvY2F0aW9uPC90ZXh0Pg0KPC9nPg0KPCEtLSBQcm92aWRlU2luZ2xlTG9jYXRpb25fXzAgLS0+DQo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4NCjx0aXRsZT5Qcm92aWRlU2luZ2xlTG9jYXRpb25fXzA8L3RpdGxlPg0KPHBvbHlnb24gZmlsbD0iI2VlZWVlZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIyMDIuNzUsLTgyNy43NSAyMDIuNzUsLTkyMi41IDEyNjYuNSwtOTIyLjUgMTI2Ni41LC04MjcuNzUgMjAyLjc1LC04MjcuNzUiLz4NCjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjczNC42MiIgeT0iLTkwNS4yIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj5lX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQzo6UHJvdmlkZVNpbmdsZUxvY2F0aW9uOjA8L3RleHQ+DQo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIyMDIuNzUsLTg5OC43NSAxMjY2LjUsLTg5OC43NSIvPg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyMTAuNzUiIHk9Ii04ODEuNDUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPkVYX0xldDwvdGV4dD4NCjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMjEwLjc1IiB5PSItODY1LjciIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPuKUnOKUkOKUnOKUkEVYX0xvY2FsVmFyaWFibGUgZXhwb3J0IGVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uJiM0NTsmZ3Q7SzJOb2RlX0R5bmFtaWNDYXN0X0FzVHJlc19QYXduX0Jhc2U8L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjIxMC43NSIgeT0iLTg0OS45NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQRVhfRHluYW1pY0Nhc3QgaW1wb3J0IC9TY3JpcHQvVHJlc0dhbWUmIzQ1OyZndDtUcmVzUGF3bkJhc2U8L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjIxMC43NSIgeT0iLTgzNC4yIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJDilJzilJDilJzilJBFWF9Mb2NhbFZhcmlhYmxlIGV4cG9ydCBlX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQyYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbiYjNDU7Jmd0O1F1ZXJpZXJBY3RvcjwvdGV4dD4NCjwvZz4NCjwhLS0gUHJvdmlkZVNpbmdsZUxvY2F0aW9uJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18wIC0tPg0KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18wPC90aXRsZT4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik03MzQuNjIsLTEwMTcuMzZDNzM0LjYyLC05OTcuNDYgNzM0LjYyLC05NjMuNjkgNzM0LjYyLC05MzQuMTYiLz4NCjxwb2x5Z29uIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjczOC4xMywtOTM0LjE4IDczNC42MywtOTI0LjE4IDczMS4xMywtOTM0LjE4IDczOC4xMywtOTM0LjE4Ii8+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMzYgLS0+DQo8ZyBpZD0ibm9kZTQiIGNsYXNzPSJub2RlIj4NCjx0aXRsZT5Qcm92aWRlU2luZ2xlTG9jYXRpb25fXzM2PC90aXRsZT4NCjxwb2x5Z29uIGZpbGw9IiNlZWVlZWUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTk0LjUsLTY5NSAxOTQuNSwtNzg5Ljc1IDEyNzQuNzUsLTc4OS43NSAxMjc0Ljc1LC02OTUgMTk0LjUsLTY5NSIvPg0KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNzM0LjYyIiB5PSItNzcyLjQ1IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj5lX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQzo6UHJvdmlkZVNpbmdsZUxvY2F0aW9uOjM2PC90ZXh0Pg0KPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTk0LjUsLTc2NiAxMjc0Ljc1LC03NjYiLz4NCjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMjAyLjUiIHk9Ii03NDguNyIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+RVhfTGV0PC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyMDIuNSIgeT0iLTczMi45NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQRVhfTG9jYWxWYXJpYWJsZSBleHBvcnQgZV9leDc2MV9FUVNDb250ZXh0X1F1ZXJpZXJTcGF3bkxvY2F0aW9uX0MmIzQ1OyZndDtQcm92aWRlU2luZ2xlTG9jYXRpb24mIzQ1OyZndDtLMk5vZGVfRHluYW1pY0Nhc3RfYlN1Y2Nlc3M8L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjIwMi41IiB5PSItNzE3LjIiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPuKUnOKUkOKUnOKUkEVYX1ByaW1pdGl2ZUNhc3QgT2JqZWN0VG9Cb29sPC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyMDIuNSIgeT0iLTcwMS40NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQ4pSc4pSQ4pSc4pSQRVhfTG9jYWxWYXJpYWJsZSBleHBvcnQgZV9leDc2MV9FUVNDb250ZXh0X1F1ZXJpZXJTcGF3bkxvY2F0aW9uX0MmIzQ1OyZndDtQcm92aWRlU2luZ2xlTG9jYXRpb24mIzQ1OyZndDtLMk5vZGVfRHluYW1pY0Nhc3RfQXNUcmVzX1Bhd25fQmFzZTwvdGV4dD4NCjwvZz4NCjwhLS0gUHJvdmlkZVNpbmdsZUxvY2F0aW9uX18wJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18zNiAtLT4NCjxnIGlkPSJlZGdlMiIgY2xhc3M9ImVkZ2UiPg0KPHRpdGxlPlByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMCYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMzY8L3RpdGxlPg0KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTczNC42MiwtODI3LjI5QzczNC42MiwtODE4LjgzIDczNC42MiwtODA5LjkyIDczNC42MiwtODAxLjIiLz4NCjxwb2x5Z29uIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjczOC4xMywtODAxLjQgNzM0LjYzLC03OTEuNCA3MzEuMTMsLTgwMS40IDczOC4xMywtODAxLjQiLz4NCjwvZz4NCjwhLS0gUHJvdmlkZVNpbmdsZUxvY2F0aW9uX182NSAtLT4NCjxnIGlkPSJub2RlNSIgY2xhc3M9Im5vZGUiPg0KPHRpdGxlPlByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNjU8L3RpdGxlPg0KPHBvbHlnb24gZmlsbD0iI2VlZWVlZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIyMzUuNzUsLTU5My43NSAyMzUuNzUsLTY1NyAxMjMzLjUsLTY1NyAxMjMzLjUsLTU5My43NSAyMzUuNzUsLTU5My43NSIvPg0KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNzM0LjYyIiB5PSItNjM5LjciIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPmVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DOjpQcm92aWRlU2luZ2xlTG9jYXRpb246NjU8L3RleHQ+DQo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIyMzUuNzUsLTYzMy4yNSAxMjMzLjUsLTYzMy4yNSIvPg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyNDMuNzUiIHk9Ii02MTUuOTUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPkVYX0p1bXBJZk5vdCAxNjE8L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI0My43NSIgeT0iLTYwMC4yIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJBFWF9Mb2NhbFZhcmlhYmxlIGV4cG9ydCBlX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQyYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbiYjNDU7Jmd0O0syTm9kZV9EeW5hbWljQ2FzdF9iU3VjY2VzczwvdGV4dD4NCjwvZz4NCjwhLS0gUHJvdmlkZVNpbmdsZUxvY2F0aW9uX18zNiYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNjUgLS0+DQo8ZyBpZD0iZWRnZTMiIGNsYXNzPSJlZGdlIj4NCjx0aXRsZT5Qcm92aWRlU2luZ2xlTG9jYXRpb25fXzM2JiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uX182NTwvdGl0bGU+DQo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBkPSJNNzM0LjYyLC02OTQuNkM3MzQuNjIsLTY4Ni4wNiA3MzQuNjIsLTY3Ny4yIDczNC42MiwtNjY4LjgiLz4NCjxwb2x5Z29uIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjczOC4xMywtNjY4LjgyIDczNC42MywtNjU4LjgyIDczMS4xMywtNjY4LjgyIDczOC4xMywtNjY4LjgyIi8+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNzkgLS0+DQo8ZyBpZD0ibm9kZTYiIGNsYXNzPSJub2RlIj4NCjx0aXRsZT5Qcm92aWRlU2luZ2xlTG9jYXRpb25fXzc5PC90aXRsZT4NCjxwb2x5Z29uIGZpbGw9IiNlZWVlZWUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTQxLjUsLTQxNC43NSAxNDEuNSwtNTQxIDEyMjEuNzUsLTU0MSAxMjIxLjc1LC00MTQuNzUgMTQxLjUsLTQxNC43NSIvPg0KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNjgxLjYyIiB5PSItNTIzLjciIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPmVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DOjpQcm92aWRlU2luZ2xlTG9jYXRpb246Nzk8L3RleHQ+DQo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxNDEuNSwtNTE3LjI1IDEyMjEuNzUsLTUxNy4yNSIvPg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTQ5OS45NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+RVhfTGV0PC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTQ4NC4yIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJBFWF9Mb2NhbFZhcmlhYmxlIGV4cG9ydCBlX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQyYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbiYjNDU7Jmd0O0NhbGxGdW5jX0dldFNwYXduTG9jYXRpb25fUmV0dXJuVmFsdWU8L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjE0OS41IiB5PSItNDY4LjQ1IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJBFWF9Db250ZXh0PC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTQ1Mi43IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJDilJzilJDilJzilJBFWF9Mb2NhbFZhcmlhYmxlIGV4cG9ydCBlX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQyYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbiYjNDU7Jmd0O0syTm9kZV9EeW5hbWljQ2FzdF9Bc1RyZXNfUGF3bl9CYXNlPC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTQzNi45NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQ4pSc4pSQ4pSc4pSQRVhfRmluYWxGdW5jdGlvbiBpbXBvcnQgL1NjcmlwdC9UcmVzR2FtZSYjNDU7Jmd0O1RyZXNQYXduQmFzZSYjNDU7Jmd0O0dldFNwYXduTG9jYXRpb248L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjE0OS41IiB5PSItNDIxLjIiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPuKUnOKUkOKUnOKUkOKUnOKUkOKUnOKUkFJWYWx1ZSA9IGV4cG9ydCBlX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQyYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbiYjNDU7Jmd0O0NhbGxGdW5jX0dldFNwYXduTG9jYXRpb25fUmV0dXJuVmFsdWU8L3RleHQ+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNjUmIzQ1OyZndDtQcm92aWRlU2luZ2xlTG9jYXRpb25fXzc5IC0tPg0KPGcgaWQ9ImVkZ2U1IiBjbGFzcz0iZWRnZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uX182NSYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNzk8L3RpdGxlPg0KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTcyMy4zOSwtNTkzLjUyQzcxOC45MywtNTgxLjMgNzEzLjYxLC01NjYuNjkgNzA4LjI4LC01NTIuMDYiLz4NCjxwb2x5Z29uIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjcxMS42NCwtNTUxLjA2IDcwNC45MywtNTQyLjg2IDcwNS4wNywtNTUzLjQ1IDcxMS42NCwtNTUxLjA2Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI3MjQuODgiIHk9Ii01NjEuOTUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPklGPC90ZXh0Pg0KPC9nPg0KPCEtLSBQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE2MSAtLT4NCjxnIGlkPSJub2RlOSIgY2xhc3M9Im5vZGUiPg0KPHRpdGxlPlByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTYxPC90aXRsZT4NCjxwb2x5Z29uIGZpbGw9IiNlZWVlZWUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iODUzLjg4LC0zMDEgODUzLjg4LC0zOTUuNzUgMTY0NS4zOCwtMzk1Ljc1IDE2NDUuMzgsLTMwMSA4NTMuODgsLTMwMSIvPg0KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTI0OS42MiIgeT0iLTM3OC40NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+ZV9leDc2MV9FUVNDb250ZXh0X1F1ZXJpZXJTcGF3bkxvY2F0aW9uX0M6OlByb3ZpZGVTaW5nbGVMb2NhdGlvbjoxNjE8L3RleHQ+DQo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI4NTMuODgsLTM3MiAxNjQ1LjM4LC0zNzIiLz4NCjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iODYxLjg4IiB5PSItMzU0LjciIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPkVYX0xldDwvdGV4dD4NCjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iODYxLjg4IiB5PSItMzM4Ljk1IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJBFWF9Mb2NhbE91dFZhcmlhYmxlPC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSI4NjEuODgiIHk9Ii0zMjMuMiIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQ4pSc4pSQ4pSc4pSQZXhwb3J0IGVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uJiM0NTsmZ3Q7UmVzdWx0aW5nTG9jYXRpb248L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9Ijg2MS44OCIgeT0iLTMwNy40NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQRVhfVmVjdG9yQ29uc3QgMCwwLDA8L3RleHQ+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNjUmIzQ1OyZndDtQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE2MSAtLT4NCjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPg0KPHRpdGxlPlByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fNjU6ZSYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTYxPC90aXRsZT4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0icmVkIiBkPSJNMTIzNC41LC02MjUuMzhDMTMyMS4zLC02MjUuMzggMTI5Mi45OSwtNDg3LjU5IDEyNjguOTEsLTQwNi43MiIvPg0KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZWQiIHBvaW50cz0iMTI3Mi40LC00MDYuMTkgMTI2Ni4xNCwtMzk3LjY0IDEyNjUuNywtNDA4LjIzIDEyNzIuNCwtNDA2LjE5Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMzE2LjM4IiB5PSItNTYxLjk1IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj5JRiBOT1Q8L3RleHQ+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTI5IC0tPg0KPGcgaWQ9Im5vZGU3IiBjbGFzcz0ibm9kZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18xMjk8L3RpdGxlPg0KPHBvbHlnb24gZmlsbD0iI2VlZWVlZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxNDEuNSwtMTg3LjI1IDE0MS41LC0yODIgMTIyMS43NSwtMjgyIDEyMjEuNzUsLTE4Ny4yNSAxNDEuNSwtMTg3LjI1Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI2ODEuNjIiIHk9Ii0yNjQuNyIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+ZV9leDc2MV9FUVNDb250ZXh0X1F1ZXJpZXJTcGF3bkxvY2F0aW9uX0M6OlByb3ZpZGVTaW5nbGVMb2NhdGlvbjoxMjk8L3RleHQ+DQo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxNDEuNSwtMjU4LjI1IDEyMjEuNzUsLTI1OC4yNSIvPg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTI0MC45NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+RVhfTGV0PC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTIyNS4yIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj7ilJzilJDilJzilJBFWF9Mb2NhbE91dFZhcmlhYmxlPC90ZXh0Pg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxNDkuNSIgeT0iLTIwOS40NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+4pSc4pSQ4pSc4pSQ4pSc4pSQ4pSc4pSQZXhwb3J0IGVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uJiM0NTsmZ3Q7UmVzdWx0aW5nTG9jYXRpb248L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjE0OS41IiB5PSItMTkzLjciIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPuKUnOKUkOKUnOKUkEVYX0xvY2FsVmFyaWFibGUgZXhwb3J0IGVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DJiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uJiM0NTsmZ3Q7Q2FsbEZ1bmNfR2V0U3Bhd25Mb2NhdGlvbl9SZXR1cm5WYWx1ZTwvdGV4dD4NCjwvZz4NCjwhLS0gUHJvdmlkZVNpbmdsZUxvY2F0aW9uX183OSYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTI5IC0tPg0KPGcgaWQ9ImVkZ2U2IiBjbGFzcz0iZWRnZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uX183OSYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTI5PC90aXRsZT4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik02ODEuNjIsLTQxNC40M0M2ODEuNjIsLTM3Ny4xNCA2ODEuNjIsLTMzMC4xIDY4MS42MiwtMjkzLjYzIi8+DQo8cG9seWdvbiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI2ODUuMTMsLTI5My42OSA2ODEuNjMsLTI4My42OSA2NzguMTMsLTI5My42OSA2ODUuMTMsLTI5My42OSIvPg0KPC9nPg0KPCEtLSBQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE1NiAtLT4NCjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPg0KPHRpdGxlPlByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTU2PC90aXRsZT4NCjxwb2x5Z29uIGZpbGw9IiNlZWVlZWUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNTgxLjEyLC0xMDEuNzUgNTgxLjEyLC0xNDkuMjUgMTE1OC4xMiwtMTQ5LjI1IDExNTguMTIsLTEwMS43NSA1ODEuMTIsLTEwMS43NSIvPg0KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iODY5LjYyIiB5PSItMTMxLjk1IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj5lX2V4NzYxX0VRU0NvbnRleHRfUXVlcmllclNwYXduTG9jYXRpb25fQzo6UHJvdmlkZVNpbmdsZUxvY2F0aW9uOjE1NjwvdGV4dD4NCjxwb2x5bGluZSBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjU4MS4xMiwtMTI1LjUgMTE1OC4xMiwtMTI1LjUiLz4NCjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iNTg5LjEyIiB5PSItMTA4LjIiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPkVYX0p1bXAgMTkyPC90ZXh0Pg0KPC9nPg0KPCEtLSBQcm92aWRlU2luZ2xlTG9jYXRpb25fXzEyOSYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTU2IC0tPg0KPGcgaWQ9ImVkZ2U3IiBjbGFzcz0iZWRnZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18xMjkmIzQ1OyZndDtQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE1NjwvdGl0bGU+DQo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBkPSJNNzYzLjgxLC0xODYuNzlDNzgyLjY0LC0xNzYuMDYgODAyLjEyLC0xNjQuOTcgODE5LjE1LC0xNTUuMjYiLz4NCjxwb2x5Z29uIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjgyMC42LC0xNTguNDcgODI3LjU1LC0xNTAuNDcgODE3LjEzLC0xNTIuMzggODIwLjYsLTE1OC40NyIvPg0KPC9nPg0KPCEtLSBQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE5MiAtLT4NCjxnIGlkPSJub2RlMTAiIGNsYXNzPSJub2RlIj4NCjx0aXRsZT5Qcm92aWRlU2luZ2xlTG9jYXRpb25fXzE5MjwvdGl0bGU+DQo8cG9seWdvbiBmaWxsPSIjZWVlZWVlIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9Ijc3MS4xMiwtMC41IDc3MS4xMiwtNjMuNzUgMTM0OC4xMiwtNjMuNzUgMTM0OC4xMiwtMC41IDc3MS4xMiwtMC41Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMDU5LjYyIiB5PSItNDYuNDUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPmVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DOjpQcm92aWRlU2luZ2xlTG9jYXRpb246MTkyPC90ZXh0Pg0KPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzcxLjEyLC00MCAxMzQ4LjEyLC00MCIvPg0KPHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSI3NzkuMTIiIHk9Ii0yMi43IiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjE0LjAwIj5FWF9SZXR1cm48L3RleHQ+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9Ijc3OS4xMiIgeT0iLTYuOTUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPuKUnOKUkOKUnOKUkEVYX05vdGhpbmc8L3RleHQ+DQo8L2c+DQo8IS0tIFByb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTU2JiM0NTsmZ3Q7UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18xOTIgLS0+DQo8ZyBpZD0iZWRnZTgiIGNsYXNzPSJlZGdlIj4NCjx0aXRsZT5Qcm92aWRlU2luZ2xlTG9jYXRpb25fXzE1NiYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTkyPC90aXRsZT4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik05MTcuNTcsLTEwMS40NEM5MzcuOTcsLTkxLjYzIDk2Mi4yNSwtNzkuOTYgOTg0LjkxLC02OS4wNiIvPg0KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iOTg2LjMyLC03Mi4yNiA5OTMuODIsLTY0Ljc3IDk4My4yOSwtNjUuOTUgOTg2LjMyLC03Mi4yNiIvPg0KPC9nPg0KPCEtLSBQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE2MSYjNDU7Jmd0O1Byb3ZpZGVTaW5nbGVMb2NhdGlvbl9fMTkyIC0tPg0KPGcgaWQ9ImVkZ2U5IiBjbGFzcz0iZWRnZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18xNjEmIzQ1OyZndDtQcm92aWRlU2luZ2xlTG9jYXRpb25fXzE5MjwvdGl0bGU+DQo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBkPSJNMTI1MC4zNiwtMzAwLjg0QzEyNDkuNCwtMjY3LjkyIDEyNDUuMDcsLTIyMy4zMSAxMjMwLjYyLC0xODYuNzUgMTIxMy4yOCwtMTQyLjg1IDEyMDIuMTksLTEzMy40IDExNjcuNjIsLTEwMS4yNSAxMTU1LjU2LC05MC4wMiAxMTQxLjM5LC03OS41NyAxMTI3LjM2LC03MC4zOSIvPg0KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTEyOS4yOSwtNjcuNDcgMTExOC45OCwtNjUuMDYgMTEyNS41NCwtNzMuMzggMTEyOS4yOSwtNjcuNDciLz4NCjwvZz4NCjwhLS0gUHJvdmlkZVNpbmdsZUxvY2F0aW9uX18xOTQgLS0+DQo8ZyBpZD0ibm9kZTExIiBjbGFzcz0ibm9kZSI+DQo8dGl0bGU+UHJvdmlkZVNpbmdsZUxvY2F0aW9uX18xOTQ8L3RpdGxlPg0KPHBvbHlnb24gZmlsbD0iI2VlZWVlZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI3NTAuMTIsLTk0MS41IDc1MC4xMiwtOTg5IDEzMjcuMTIsLTk4OSAxMzI3LjEyLC05NDEuNSA3NTAuMTIsLTk0MS41Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMDM4LjYyIiB5PSItOTcxLjciIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTQuMDAiPmVfZXg3NjFfRVFTQ29udGV4dF9RdWVyaWVyU3Bhd25Mb2NhdGlvbl9DOjpQcm92aWRlU2luZ2xlTG9jYXRpb246MTk0PC90ZXh0Pg0KPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzUwLjEyLC05NjUuMjUgMTMyNy4xMiwtOTY1LjI1Ii8+DQo8dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9Ijc1OC4xMiIgeT0iLTk0Ny45NSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNC4wMCI+RVhfRW5kT2ZTY3JpcHQ8L3RleHQ+DQo8L2c+DQo8L2c+DQo8L3N2Zz4NCg=="), m => m.codePointAt(0)));
      container.innerHTML = data.substring(data.indexOf("<svg"));
      const map = container.children[0];
      minimap.src = URL.createObjectURL(new Blob([data], {'type':'image/svg+xml'}));

      function setScale(s) {
        map.style.scale = s;
        map.style.transformOrigin = '0 0';
        const bounds = map.getBoundingClientRect();
        container.style.width = bounds.width + 'px';
        container.style.height = bounds.height + 'px';
        update();
      }

      function zoom(amount, pointX, pointY) {
        const currentScale = +map.style.scale;
        const newScale = currentScale * amount;

        const currentScrollX = window.scrollX;
        const currentScrollY = window.scrollY;

        map.style.scale = newScale;
        const bounds = map.getBoundingClientRect();
        container.style.width = bounds.width + 'px';
        container.style.height = bounds.height + 'px';

        window.scrollTo(pointX * amount - (pointX - currentScrollX), pointY * amount - (pointY - currentScrollY));
        update();
      }
      function scroll(dx, dy) {
        window.scrollBy(dx, dy);
        update();
      }
      function handleMove(e) {
        if (!drag) return;
        if (drag === minimapContainer) {
          const bounds = minimap.getBoundingClientRect();

          scroll(
            document.documentElement.scrollWidth * e.movementX / bounds.width,
            document.documentElement.scrollHeight * e.movementY / bounds.height
          );
        } else {
          scroll(-e.movementX, -e.movementY);
        }
        e.preventDefault();
      }

      let debounceTimeout = null;
      function update() {
        minimapView.style.top = document.documentElement.scrollTop / document.documentElement.scrollHeight * 100 + '%';
        minimapView.style.left = document.documentElement.scrollLeft / document.documentElement.scrollWidth * 100 + '%';
        minimapView.style.width = document.documentElement.clientWidth / document.documentElement.scrollWidth * 100 + '%';
        minimapView.style.height = document.documentElement.clientHeight / document.documentElement.scrollHeight * 100 + '%';
      }

      let drag = false;

      function init() {
        setScale(1);
        const bounds = map.getBoundingClientRect();
        const scaleW = document.documentElement.clientWidth / bounds.width;
        const scaleH = document.documentElement.clientHeight / bounds.height;
        const maxAspectRatio = 0.2;
        const scale = Math.min(Math.max(maxAspectRatio, scaleW / scaleH) * scaleH, Math.max(maxAspectRatio, scaleH / scaleW) * scaleW);
        setScale(Math.min(scale, 1));
      }

      window.addEventListener('wheel', e => {
        e.preventDefault();
        zoom(e.deltaY > 0 ? (1 / 1.1) : 1.1, e.pageX, e.pageY);
      }, {passive: false});

      window.addEventListener('mousedown', e => {
        if (e.target && e.target.tagName === 'text') return;
        if (!(e.buttons & 1)) return;
        if (drag) return;
        drag = e.target || true;
      }, {passive: true});

      window.addEventListener('mouseup', e => {
        if (e.buttons & 1) return;
        drag = false;
      }, {passive: true});

      window.addEventListener('mousemove', e => {
        handleMove(e);
      }, {passive: false});

      window.addEventListener('scroll', () => {
        update();
      }, {passive: true});

      minimapContainer.addEventListener('mousedown', e => {
        e.preventDefault();
      }, {passive: false});

      window.addEventListener('hashchange', () => {
        load();
      }, {passive: true});

      init();
    </script>
  </body>
</html>

